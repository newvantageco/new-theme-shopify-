{% doc %}
  @prompt
    Layout & Grid
    A simple, clean three-column grid with distinct gutters ensures a modern, balanced, and uncluttered feel. Each panel is a self-contained card.
    
    Panel & Imagery
    Use sharp 90-degree corners to reflect NewVantage Co.’s precise, architectural aesthetic. Select high-quality, sophisticated lifestyle or product photos with clean lighting and intentional compositions. Images should align with your muted, refined palette.
    
    Typography & Text Overlay
    Use your established font hierarchy. Add a small accent line in all-caps, wide-tracked font above a bold headline. Example:
    
    NEW ARRIVALS
    Fresh Takes on Classic Frames
    
    Place the text strategically where it’s readable against the background, with sufficient space around it for clarity.
    
    CTA Button Style
    Replicate the hero section’s sharp-cornered rectangular button. Solid black background, white all-caps text, and a right-arrow icon (→). Examples: SHOP FALL →, VIEW COLLECTION →.
    
    Visual Description
    Each panel is a sharp rectangle with a slightly out-of-focus background image of a person in a minimalist, modern setting wearing sleek, dark-framed glasses. The text overlay sits in the lower-left corner with high-contrast white lettering: first line small and wide-spaced, second line bold. Below it, the solid black rectangular CTA button invites interaction.
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-three-column-grid-{{ ai_gen_id }} {
    width: 100%;
    max-width: {{ settings.container }}px;
    margin: 0 auto;
    padding: {{ block.settings.section_padding_top }}px {{ settings.gutter }}px {{ block.settings.section_padding_bottom }}px;
  }

  .ai-grid-container-{{ ai_gen_id }} {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: {{ block.settings.grid_gap }}px;
  }

  .ai-grid-panel-{{ ai_gen_id }} {
    position: relative;
    background-color: {{ block.settings.panel_background_color }};
    border-radius: 0;
    overflow: hidden;
    aspect-ratio: {{ block.settings.panel_aspect_ratio }};
  }

  .ai-panel-image-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    object-fit: cover;
    filter: blur({{ block.settings.image_blur }}px);
    transition: filter 0.3s ease;
  }

  .ai-panel-placeholder-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    background-color: #f4f4f4;
    display: flex;
    align-items: center;
    justify-content: center;
    filter: blur({{ block.settings.image_blur }}px);
  }

  .ai-panel-placeholder-{{ ai_gen_id }} svg {
    width: 60%;
    height: 60%;
    opacity: 0.3;
  }

  .ai-panel-content-{{ ai_gen_id }} {
    position: absolute;
    bottom: {{ block.settings.content_padding }}px;
    left: {{ block.settings.content_padding }}px;
    right: {{ block.settings.content_padding }}px;
    z-index: 2;
  }

  .ai-panel-accent-{{ ai_gen_id }} {
    font-family: {{ settings.font_family2.family }}, {{ settings.font_family2.fallback_families }};
    font-size: {{ block.settings.accent_font_size }}px;
    font-weight: {{ settings.font_weight_sub }};
    letter-spacing: {{ settings.letter_spacing_sub }}em;
    text-transform: uppercase;
    color: {{ block.settings.text_color }};
    margin: 0 0 {{ block.settings.text_spacing }}px 0;
    line-height: 1.2;
  }

  .ai-panel-headline-{{ ai_gen_id }} {
    font-family: {{ settings.font_family.family }}, {{ settings.font_family.fallback_families }};
    font-size: {{ block.settings.headline_font_size }}px;
    font-weight: {{ settings.h3_font_weight }};
    text-transform: {{ settings.h3_font_transform }};
    line-height: {{ settings.h3_font_lineheight }};
    color: {{ block.settings.text_color }};
    margin: 0 0 {{ block.settings.text_spacing }}px 0;
  }

  .ai-panel-button-{{ ai_gen_id }} {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: {{ settings.padding_vertical_btn }}px {{ settings.padding_hoz_btn }}px;
    background-color: {{ settings.color_cta }};
    color: {{ settings.color_button_text }};
    text-decoration: none;
    font-family: {{ settings.font_family2.family }}, {{ settings.font_family2.fallback_families }};
    font-size: {{ settings.base_size_button }}px;
    font-weight: {{ settings.font_weight_button }};
    letter-spacing: {{ settings.letter_spacing_button }}em;
    text-transform: {{ settings.text_transform_btn }};
    border-radius: {{ settings.border_radius_btn }}px;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
  }

  .ai-panel-button-{{ ai_gen_id }}:hover {
    background-color: {{ block.settings.button_hover_color }};
    color: {{ block.settings.button_hover_text_color }};
    transform: translateY(-1px);
  }

  .ai-panel-button-{{ ai_gen_id }}:focus {
    outline: 2px solid {{ block.settings.text_color }};
    outline-offset: 2px;
  }

  .ai-button-arrow-{{ ai_gen_id }} {
    width: 16px;
    height: 16px;
    stroke: currentColor;
    transition: transform 0.3s ease;
  }

  .ai-panel-button-{{ ai_gen_id }}:hover .ai-button-arrow-{{ ai_gen_id }} {
    transform: translateX(4px);
  }

  .ai-grid-panel-{{ ai_gen_id }}:hover .ai-panel-image-{{ ai_gen_id }},
  .ai-grid-panel-{{ ai_gen_id }}:hover .ai-panel-placeholder-{{ ai_gen_id }} {
    filter: blur(0px);
  }

  @media screen and (max-width: 990px) {
    .ai-grid-container-{{ ai_gen_id }} {
      grid-template-columns: repeat(2, 1fr);
      gap: {{ block.settings.grid_gap | times: 0.75 }}px;
    }

    .ai-panel-headline-{{ ai_gen_id }} {
      font-size: {{ block.settings.headline_font_size | times: 0.9 }}px;
    }

    .ai-panel-accent-{{ ai_gen_id }} {
      font-size: {{ block.settings.accent_font_size | times: 0.9 }}px;
    }
  }

  @media screen and (max-width: 749px) {
    .ai-grid-container-{{ ai_gen_id }} {
      grid-template-columns: 1fr;
      gap: {{ block.settings.grid_gap | times: 0.5 }}px;
    }

    .ai-three-column-grid-{{ ai_gen_id }} {
      padding: {{ block.settings.section_padding_top | times: 0.75 }}px {{ settings.gutter | times: 0.5 }}px {{ block.settings.section_padding_bottom | times: 0.75 }}px;
    }

    .ai-panel-content-{{ ai_gen_id }} {
      bottom: {{ block.settings.content_padding | times: 0.75 }}px;
      left: {{ block.settings.content_padding | times: 0.75 }}px;
      right: {{ block.settings.content_padding | times: 0.75 }}px;
    }

    .ai-panel-headline-{{ ai_gen_id }} {
      font-size: {{ block.settings.headline_font_size | times: 0.8 }}px;
    }

    .ai-panel-accent-{{ ai_gen_id }} {
      font-size: {{ block.settings.accent_font_size | times: 0.8 }}px;
    }
  }
{% endstyle %}

<div class="ai-three-column-grid-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-grid-container-{{ ai_gen_id }}">
    {% for i in (1..3) %}
      {% liquid
        assign image_key = 'panel_' | append: i | append: '_image'
        assign accent_key = 'panel_' | append: i | append: '_accent'
        assign headline_key = 'panel_' | append: i | append: '_headline'
        assign button_text_key = 'panel_' | append: i | append: '_button_text'
        assign button_link_key = 'panel_' | append: i | append: '_button_link'

        assign panel_image = block.settings[image_key]
        assign panel_accent = block.settings[accent_key]
        assign panel_headline = block.settings[headline_key]
        assign panel_button_text = block.settings[button_text_key]
        assign panel_button_link = block.settings[button_link_key]
      %}

      <div class="ai-grid-panel-{{ ai_gen_id }}">
        {% if panel_image %}
          <img
            src="{{ panel_image | image_url: width: 800 }}"
            alt="{{ panel_image.alt | escape }}"
            class="ai-panel-image-{{ ai_gen_id }}"
            loading="lazy"
            width="{{ panel_image.width }}"
            height="{{ panel_image.height }}"
          >
        {% else %}
          <div class="ai-panel-placeholder-{{ ai_gen_id }}">
            {{ 'image' | placeholder_svg_tag }}
          </div>
        {% endif %}

        <div class="ai-panel-content-{{ ai_gen_id }}">
          {% if panel_accent != blank %}
            <div class="ai-panel-accent-{{ ai_gen_id }}">{{ panel_accent }}</div>
          {% endif %}

          {% if panel_headline != blank %}
            <h3 class="ai-panel-headline-{{ ai_gen_id }}">{{ panel_headline }}</h3>
          {% endif %}

          {% if panel_button_text != blank %}
            <a
              href="{{ panel_button_link | default: '#' }}"
              class="ai-panel-button-{{ ai_gen_id }}"
              {% if panel_button_link == blank %}aria-disabled="true"{% endif %}
            >
              {{ panel_button_text }}
              <svg
                class="ai-button-arrow-{{ ai_gen_id }}"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <line x1="5" y1="12" x2="19" y2="12"></line>
                <polyline points="12,5 19,12 12,19"></polyline>
              </svg>
            </a>
          {% endif %}
        </div>
      </div>
    {% endfor %}
  </div>
</div>

{% schema %}
{
  "name": "Three column grid",
  "settings": [
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "section_padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Top padding",
      "default": 60
    },
    {
      "type": "range",
      "id": "section_padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Bottom padding",
      "default": 60
    },
    {
      "type": "range",
      "id": "grid_gap",
      "min": 10,
      "max": 60,
      "step": 2,
      "unit": "px",
      "label": "Grid gap",
      "default": 32
    },
    {
      "type": "select",
      "id": "panel_aspect_ratio",
      "label": "Panel aspect ratio",
      "options": [
        {
          "value": "1 / 1",
          "label": "Square (1:1)"
        },
        {
          "value": "4 / 3",
          "label": "Landscape (4:3)"
        },
        {
          "value": "3 / 4",
          "label": "Portrait (3:4)"
        },
        {
          "value": "16 / 9",
          "label": "Wide (16:9)"
        },
        {
          "value": "2 / 3",
          "label": "Portrait (2:3)"
        }
      ],
      "default": "4 / 3"
    },
    {
      "type": "header",
      "content": "Style"
    },
    {
      "type": "color",
      "id": "panel_background_color",
      "label": "Panel background",
      "default": "#f4f4f4"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "image_blur",
      "min": 0,
      "max": 10,
      "step": 1,
      "unit": "px",
      "label": "Image blur",
      "default": 2
    },
    {
      "type": "range",
      "id": "content_padding",
      "min": 16,
      "max": 60,
      "step": 4,
      "unit": "px",
      "label": "Content padding",
      "default": 32
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "range",
      "id": "accent_font_size",
      "min": 10,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Accent font size",
      "default": 12
    },
    {
      "type": "range",
      "id": "headline_font_size",
      "min": 18,
      "max": 48,
      "step": 2,
      "unit": "px",
      "label": "Headline font size",
      "default": 28
    },
    {
      "type": "range",
      "id": "text_spacing",
      "min": 8,
      "max": 32,
      "step": 2,
      "unit": "px",
      "label": "Text spacing",
      "default": 16
    },
    {
      "type": "header",
      "content": "Button"
    },
    {
      "type": "color",
      "id": "button_hover_color",
      "label": "Button hover color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "button_hover_text_color",
      "label": "Button hover text color",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Panel 1"
    },
    {
      "type": "image_picker",
      "id": "panel_1_image",
      "label": "Image"
    },
    {
      "type": "text",
      "id": "panel_1_accent",
      "label": "Accent text",
      "default": "NEW ARRIVALS"
    },
    {
      "type": "text",
      "id": "panel_1_headline",
      "label": "Headline",
      "default": "Fresh Takes on Classic Frames"
    },
    {
      "type": "text",
      "id": "panel_1_button_text",
      "label": "Button text",
      "default": "SHOP FALL"
    },
    {
      "type": "url",
      "id": "panel_1_button_link",
      "label": "Button link"
    },
    {
      "type": "header",
      "content": "Panel 2"
    },
    {
      "type": "image_picker",
      "id": "panel_2_image",
      "label": "Image"
    },
    {
      "type": "text",
      "id": "panel_2_accent",
      "label": "Accent text",
      "default": "BESTSELLERS"
    },
    {
      "type": "text",
      "id": "panel_2_headline",
      "label": "Headline",
      "default": "Timeless Designs That Define You"
    },
    {
      "type": "text",
      "id": "panel_2_button_text",
      "label": "Button text",
      "default": "VIEW COLLECTION"
    },
    {
      "type": "url",
      "id": "panel_2_button_link",
      "label": "Button link"
    },
    {
      "type": "header",
      "content": "Panel 3"
    },
    {
      "type": "image_picker",
      "id": "panel_3_image",
      "label": "Image"
    },
    {
      "type": "text",
      "id": "panel_3_accent",
      "label": "Accent text",
      "default": "OPTICAL"
    },
    {
      "type": "text",
      "id": "panel_3_headline",
      "label": "Headline",
      "default": "Precision Crafted for Perfect Vision"
    },
    {
      "type": "text",
      "id": "panel_3_button_text",
      "label": "Button text",
      "default": "EXPLORE OPTICAL"
    },
    {
      "type": "url",
      "id": "panel_3_button_link",
      "label": "Button link"
    }
  ],
  "presets": [
    {
      "name": "Three column grid"
    }
  ]
}
{% endschema %}